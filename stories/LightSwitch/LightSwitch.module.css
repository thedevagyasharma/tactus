.lightSwitchWrapper {
    --size: 1;
    position: relative;
    border: calc(2px * var(--size)) solid rgba(255 255 255 / 0.5);
    border-radius: calc(16px * var(--size));
    height: calc(144px * var(--size));
    width: calc(68px * var(--size));
    background-color: rgba(255 255 255 / 0.8);
    transition: background-color 0.3s ease;
    box-shadow: inset 0 0 calc(2px * var(--size)) 0 rgba(0 0 0 / 0.1);
    cursor: pointer;
    border: calc(2px * var(--size)) solid transparent;
}

.lightSwitchWrapper.active {
    background-color: rgba(255 255 255 / 0.90);
}

.lightSwitchWrapper:focus {
    outline: none;
}

.lightSwitchWrapper:focus-visible {
    outline: calc(2px * var(--size)) solid rgba(255 255 255 / 0.5);
    border: calc(2px * var(--size)) solid black;
}

.switchLine {
    position: absolute;
    height: calc(2px * var(--size));
    width: 100%;
    background-color: rgba(0 0 0 / 0.1);
    top: 47%;
    transition: transform 0.3s ease;
}

.lightSwitchWrapper.active .switchLine {
    transform: translateY(calc(7.2px * var(--size)));
}

.switchIndicator {
    position: absolute;
    width: calc(8px * var(--size));
    height: calc(8px * var(--size));
    border-radius: calc(4px * var(--size));
    background-color: rgba(0 0 0 / 0.2);
    bottom: 25%;
    right: calc(50% - calc(4px * var(--size)));
    transition: all 0.3s ease;
}

.lightSwitchWrapper.active .switchIndicator {
    background-color: #ff4000;
    bottom: calc(25% - calc(12px * var(--size)));
}

.lightSwitch {
    position: absolute;
    top: 0;
    height: calc(128px * var(--size));
    width: calc(64px * var(--size));
    border-radius: calc(14px * var(--size));
    overflow: hidden;
    transition: top 0.3s ease, box-shadow 0.3s ease;
    box-shadow:
        0px calc(2px * var(--size)) calc(12px * var(--size)) calc(-4px * var(--size)) rgba(0 0 0 / 0.05);
}

/* "off" gradient — fades out when active; carries the inset shadow for the off state */
.lightSwitch::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: calc(14px * var(--size));
    background: linear-gradient(to bottom, rgba(255 255 255 / 0.3), rgba(255 255 255 / 1));
    box-shadow: inset 0px 0px calc(1px * var(--size)) 0px rgba(0 0 0 / 0.3);
    transition: opacity 0.3s ease;
}

.lightSwitchWrapper.active .lightSwitch::before {
    opacity: 0;
}

/* "on" gradient — fades in on top when active; carries the inset shadow */
.lightSwitch::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: calc(14px * var(--size));
    background: linear-gradient(to bottom, rgba(255 255 255 / 1), rgba(255 255 255 / 0.3));
    box-shadow: inset 0px 0px calc(1px * var(--size)) 0px rgba(0 0 0 / 0.3);
    opacity: 0;
    transition: opacity 0.3s ease, box-shadow 0.3s ease;
}

.lightSwitchWrapper.active .lightSwitch {
    top: calc(100% - calc(128px * var(--size)));
    box-shadow: 0px calc(-1px * var(--size)) calc(1px * var(--size)) calc(1px * var(--size)) rgba(255 255 255 / 0.2);
}

.lightSwitchWrapper.active .lightSwitch::after {
    opacity: 1;
    box-shadow: inset 0px calc(1px * var(--size)) 0px 0px rgba(0 0 0 / 0.05);
}